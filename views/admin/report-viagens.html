<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
<!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-12">
            <h3>Relatório de Viagens</h3> 
            <span style="float: left; font-size: 18px;"><strong>Valor Total:</strong> <span class="money">{$valor_total}</span></span><br>
            
          </div><!-- /.col -->
          <div class="col-sm-12 text-right">
            <a href="" onclick="window.print(); return false;"><span class="fa fa-print"></span> Imprimir</a>
            
          </div><!-- /.col -->
          
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

<!-- Main content -->
<div class="content">
      <div class="container-fluid">
        <div class="row">
    <div class="col-md-12">
      <div class="card">
            
            <div class="card-header">
              <form action="http://159.89.52.185:8080/report/viagens" method="get">
                <div class="row"> 
                <div class="col-md-2 m-0">
                  <label>De:</label> 
                  <input type="date" name="de" value="{$de}" class="form-control" style="display: inline; width: 80%;">
                </div>
                <div class="col-md-2 m-0"> 
                  <label>à:</label> 
                  <input type="date" name="ate" value="{$ate}" class="form-control" style="display: inline; width: 80%;">
                </div>
                <div class="col-md-7 p-0 m-0">
                  <select name="regiao" class="form-control" style="display: inline; width: 30%;">
                        {if="$regiao!=''"}<option value="{$regiao}"> {$nome_regiao}</option>{else}<option value="">Todas regiões</option>{/if}
                        <option value="">Todas regiões</option>
                        {loop="$regioes"}
                        <option value="{$value.id}">{$value.provincia}</option>
                        {/loop}
                    </select>
                  <select name='status_pedido' class="form-control" style="display: inline; width: 30%;">
                      <option value="{$status_pedido}">
                         {if="$status_pedido==-1"}Todos estados{/if}
                         {if="$status_pedido==0"}Cancelada{/if}
                         {if="$status_pedido==4"}Em curso{/if}
                         {if="$status_pedido==5"}Parada{/if}
                         {if="$status_pedido==6"}Retomada{/if}
                         {if="$status_pedido==7"}A efetuar pagamento{/if}
                         {if="$status_pedido==8"}Realizada{/if}</option> 
                      <option value="8">Realizada</option>  
                  </select>
                  <input name='num_motorista' class='form-control' style="display: inline; width: 38%;" value='{$num_motorista}'>
                </div>
                <div class="col-md-1 p-0 m-0">
                  <button class="btn btn-md btn-default btn-block"><i class="fas fa-filter"></i></button>
                </div>
                </div>
              </form>
            </div>

            <div class="card-body p-1">
              <table class="table table-bordered table-hover dataTable">
                <thead>
                  <tr>
                        <td colspan="9">{$dados_motorista.nome} {$dados_motorista.apelido}</td>
                  </tr>
                  <tr>
                    <th style="width: 10px">#</th>
                    <th>Descrição</th>
                    <th>Origem</th>
                    <th>Destino</th>
                    <th>Região</th>
                    <th>Motoqueiro</th>
                    <th>Passageiro</th>
                    <th>Inicio/Termino</th>
                    <th>{if="$status_pedido==8"} Valor Total{/if}</th>
                    <!--<th> </th>-->
                  </tr>
                </thead>
                <tbody>
                  {loop="$viagens"}
                  <tr>
                    <td> {$value.id}</td>
                    <td> Viagem realizada </td>
                    <td> {$value.desc_origem}</td>
                    <td> {$value.desc_destino}</td>
                    <td> {$value.regiao}</td>
                    <td> {$value.nome_motorista}</td>
                    <td> {$value.nome_passageiro}</td>
                    <td> {$value.inicio_viagem} {if="$value.status_pedido==8"} / {$value.termino_viagem}{/if}</td>
                    <td> {if="$value.status_pedido==8"} <span class="money">{$value.valor}</span> {/if}</td>
                     <!--<th> </th>-->
                  </tr>
                  {/loop}
                </tbody>
              </table>
            </div>
            <!-- /.box-body -->
            <div class="card-footer clearfix">
              <span>Foram encontrados {$total_viagens} registo(s)... | </span>
              <span style="float: right; font-size: 18px;"><strong>Valor Total:</strong> <span class="money">{$valor_total}</span></span><br>
              <ul class="pagination pagination-sm m-0 float-right">
                
              </ul>
            </div>
          </div>
    </div>
  </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content -->
</div>
<!-- /.content-wrapper -->